<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    th:replace="~{/site/layouts/main :: dynamic(~{::main})}">

<head></head>

<body>
    <main>
        <!-- Banner -->
        <div id="demo" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ul class="carousel-indicators">
                <li data-target="#demo" data-slide-to="0" class="active"></li>
                <li data-target="#demo" data-slide-to="1"></li>
                <li data-target="#demo" data-slide-to="2"></li>
            </ul>
            <!-- The slideshow -->
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/site/img/poster.jpg" alt="Los Angeles">
                </div>
                <div class="carousel-item">
                    <img src="/site/img/poster1.jpg" alt="Chicago">
                </div>
                <div class="carousel-item">
                    <img src="/site/img/bnaer.png" alt="New York">
                </div>
            </div>
            <!-- Left and right controls -->
            <a class="carousel-control-prev" href="#demo" data-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </a>
            <a class="carousel-control-next" href="#demo" data-slide="next">
                <span class="carousel-control-next-icon"></span>
            </a>
        </div>

        <!-- Content -->
        <div class="content">
            <div class="container">
                <h1 class="mt-5 text-center">Danh Mục Sản Phẩm</h1>
                <div class="row mt-4 justify-content-center">
                    <div class="col-md-2 mb-4 text-center">
                        <div class="circle-image">
                            <img src="/site/img/Chuoi.jpg" alt="Chuối" class="img-fluid">
                        </div>
                        <p class="mt-2">Chuối</p>
                    </div>
                    <div class="col-md-2 mb-4 text-center">
                        <div class="circle-image">
                            <img src="/site/img/Tao.jpg" alt="Táo" class="img-fluid">
                        </div>
                        <p class="mt-2">Táo</p>
                    </div>
                    <div class="col-md-2 mb-4 text-center">
                        <div class="circle-image">
                            <img src="/site/img/BapCai.jpg" alt="Bắp Cải" class="img-fluid">
                        </div>
                        <p class="mt-2">Bắp Cải</p>
                    </div>
                    <div class="col-md-2 mb-4 text-center">
                        <div class="circle-image">
                            <img src="/site/img/BapCai.jpg" alt="Bắp Cải" class="img-fluid">
                        </div>
                        <p class="mt-2">Bắp Cải</p>
                    </div>
                    <div class="col-md-2 mb-4 text-center">
                        <div class="circle-image">
                            <img src="/site/img/Luu.jpg" alt="Lựu" class="img-fluid">
                        </div>
                        <p class="mt-2">Lựu đỏ</p>
                    </div>
                    <div class="col-md-2 mb-4 text-center">
                        <div class="circle-image">
                            <img src="/site/img/BapCai.jpg" alt="Bắp Cải" class="img-fluid">
                        </div>
                        <p class="mt-2">Bắp cải</p>
                    </div>
                </div>


                <!-- Sản phẩm bán chạy nhất -->
                <h1 class="mt-5 text-center">Sản Phẩm Bán Chạy Nhất</h1>
                <div class="row mt-4">
                    <div class="col-md-3 mb-4" th:each="productWithImage : ${productWithImages}">
                        <div class="product-card p-3">
                            <img th:src="${'/site/img/' + productWithImage.productImage.url}">
                            <h5 class="mt-3" th:text="${productWithImage.product.productName}"></h5>
                            <p th:text="${productWithImage.product.unitPrice } + '0 VND'"></p>
                            <a class="btn btn-primary"
                                th:attr="ng-click=@{|add(${productWithImage.product.productId})|}">
                                <i class="fas fa-shopping-cart"></i>
                            </a>
                            <a class="btn btn-info"
                                th:href="@{/sms/shopdetails/{productId}(productId=${productWithImage.product.productId})}">
                                <i class="fas fa-eye"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Sản phẩm đang giảm giá -->
                <h1 class="mt-5 text-center">Sản Phẩm Đang Giảm Giá</h1>
                <div class="row mt-4">
                    <div class="col-md-3 mb-4" th:each="item : ${dicountProductWithImages}">
                        <div class="product-card p-3 position-relative">
                            <div class="discount-badge" th:text="${item.product.discount*100} + '%'"></div> <!-- Thêm nhãn giảm giá -->
                            <img th:src="${'/site/img/' + item.productImage.url}" class="img-fluid">
                            <h5 class="mt-3" th:text="${item.product.productName}"></h5>
                            <p>Giá cũ: <del th:text="${item.product.unitPrice}  +  '0 VND'"></del></p>
                            <p th:text="${item.product.unitPrice * (1 - item.product.discount)}+ ' VND'"></p>
                            <a class="btn btn-primary" th:attr="ng-click=@{|add(${item.product.productId})|}">
                                <i class="fas fa-shopping-cart"></i>
                            </a>
                            <a class="btn btn-info"
                                th:href="@{/sms/shopdetails/{productId}(productId=${item.product.productId})}">
                                <i class="fas fa-eye"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid py-5 bg-light"
            style="background-image: url('/site/img/baner4.png'); height: 300px; background-size: cover; background-position: center;">
            <div class="row">
                <div class="row">
                    <div class="col-12 text-center text-light font-weight-bold">
                        <h1 class="display-4">Về Chúng Tôi</h1>
                        <h3 class="lead">Chúng tôi tự hào là một trong những nhà cung cấp nông sản hàng đầu, cam kết
                            mang đến cho người tiêu dùng những sản phẩm chất lượng cao. Với sứ mệnh kết nối nông dân với
                            người tiêu dùng, chúng tôi không chỉ cung cấp những sản phẩm tươi ngon mà còn góp phần hỗ
                            trợ phát triển nông nghiệp bền vững tại Việt Nam.</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="container-fluid py-5">
            <div class="row">
                <div class="col-md-4 text-center">
                    <div class="icon-circle mb-4">
                        <i class="fas fa-shipping-fast fa-3x text-white"></i>
                    </div>
                    <h5 class="mb-3">Miễn phí vận chuyển</h5>
                    <p>Miễn phí vận chuyển cho đơn từ 500 ngàn đồng trở lên</p>
                </div>
                <div class="col-md-4 text-center">
                    <div class="icon-circle mb-4">
                        <i class="fas fa-shield-alt fa-3x text-white"></i>
                    </div>
                    <h5 class="mb-3">Thanh toán an toàn</h5>
                    <p>100% bảo mật cho khách hàng</p>
                </div>
                <div class="col-md-4 text-center">
                    <div class="icon-circle mb-4">
                        <i class="fas fa-sync-alt fa-3x text-white"></i>
                    </div>
                    <h5 class="mb-3">Bảo hành</h5>
                    <p>Miễn phí đổi trả hàng nếu phát hiện sản phẩm lỗi từ phía cửa hàng</p>
                </div>
            </div>
        </div>

    </main>
</body>

</html>